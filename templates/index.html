<!DOCTYPE html>
<html>
    <head>

    </head>
    <body>
        
        <div id='yo'>

        </div>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
    <script>
    
    var loc = window.location
    var wsstart = 'ws://'
    if(loc.protocol=='https:'){
        wsstart = 'wss://'
    }
    var endpoint = wsstart+loc.host+loc.pathname
    var socket = new WebSocket(endpoint)
    var holder = $('#yo')
    socket.onmessage = function(e){
        console.log("message",e)
        
        holder.html("<li>"+e.data+"</li>")


    }

    socket.onopen = function(e){
        console.log("open",e)
    }

    socket.onerror= function(e){
        console.log("error",e)
    }

    socket.onclose= function(e){
        console.log("close",e)
    }
    
    
    
    </script>
    </body>
</html>